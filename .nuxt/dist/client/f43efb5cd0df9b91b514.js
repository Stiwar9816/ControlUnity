(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{450:function(e,t,l){"use strict";l.r(t);l(137),l(24),l(68);var r=l(25),n={layout:"home",data:function(){return{search:"",valid:!0,switch1:!0,edit:!0,serial:"",name:"",mark:"",type:"",model:"",location:"",user:"",description:"",state:"",snackbar:!1,text:"",color:"",serailRules:[function(e){return!!e||"Serial del implemento es requerido"}],implementRules:[function(e){return!!e||"Nombre del implemento es requerido"}],markRules:[function(e){return!!e||"Marca del implemento es requerida"},function(e){return/[a-zA-Z]+$/.test(e)||"Este campo no admite numeros"}],typeRules:[function(e){return!!e||"Tipo de implemento es requerido"},function(e){return/[a-zA-Z]+$/.test(e)||"Este campo no admite numeros"}],modelRules:[function(e){return!!e||"Modelo del implemento es requerido"}],locationRules:[function(e){return!!e||"Ubicación del implemento es requerido"},function(e){return/[a-zA-Z]+$/.test(e)||"Este campo no admite numeros"}],userRules:[function(e){return!!e||"Usuario responsable del implemento es requerido"},function(e){return/[a-zA-Z]+$/.test(e)||"Este campo no admite numeros"}],stateRules:[function(e){return!!e||"Estado del implemento es requerido"},function(e){return/[a-zA-Z]+$/.test(e)||"Este campo no admite numeros"}],headers:[{text:"SERIAL",align:"center",sortable:!1,value:"serial"},{text:"IMPLEMENTO",align:"center",value:"name",sortable:!1},{text:"MARCA",align:"center",value:"mark",sortable:!1},{text:"TIPO",align:"center",value:"type",sortable:!0},{text:"MODELO",align:"center",value:"model",sortable:!1},{text:"UBICACIÓN",align:"center",value:"location",sortable:!1},{text:"RESPONSABLE",align:"center",value:"user",sortable:!1},{text:"DESCRIPCIÓN",align:"center",sortable:!1,value:"description"},{text:"ESTADO",align:"center",value:"state"},{text:"ACCIONES",align:"center",sortable:!1,value:"icon"}],items:[],editImplements:{}}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/api/implement");case 3:return l=t.sent,t.next=6,l.data.implement;case 6:e.items=t.sent,t.next=15;break;case 9:t.prev=9,t.t0=t.catch(0),e.snackbar=!0,e.color="error",e.text=t.t0.message,console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,9]])})))()},mounted:function(){this.valid=!1},methods:{validate:function(){this.$refs.form.validate()&&(this.snackbar=!0)},NewImplement:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:axios.post("/api/newImplement",{serial:e.serial,name:e.name,mark:e.mark,type:e.type,model:e.model,location:e.location,user:e.user,description:e.description,state:e.state}).then((function(t){e.snackbar=!0,e.color="success",e.text="¡Nuevo implemento agregado con exito!",e.implement})).catch((function(t){e.snackbar=!0,e.color="error",e.text=t.message,console.log(t)}));case 1:case"end":return t.stop()}}),t)})))()},onlyImplement:function(e){var t=this;this.edit=!1,axios.get("/api/implement/".concat(e)).then((function(e){t.editImplements=e.data,t.$refs.serial.focus()})).catch((function(e){t.snackbar=!0,t.color="error",t.text=e.message,console.log(e)}))},editImplement:function(e){var t=this;axios.put("/api/updateImplement/".concat(e._id),e).then((function(e){var l=t.items.findIndex((function(t){return t._id===e.data._id}));t.items[l].serial=e.data.serial,t.items[l].name=e.data.name,t.items[l].mark=e.data.mark,t.items[l].type=e.data.type,t.items[l].model=e.data.model,t.items[l].location=e.data.location,t.items[l].user=e.data.user,t.items[l].description=e.data.description,t.items[l].state=e.data.state,t.snackbar=!0,t.color="success",t.text="¡Datos del implemento actualizados correctamente!",t.edit=!1}))},deleteImplement:function(e){var t=this;confirm("Esta seguro de eliminar este implemento?")&&axios.delete("/api/deleteImplement/"+e).then((function(l){console.log("Implement Delete: ",e),t.items.splice(e,1),t.snackbar=!0,t.color="success",t.text="¡Implemento eliminado exitosamente!",t.$router.go()})).catch((function(e){t.snackbar=!0,t.color="error",t.text=e.message,console.log("Unable to clear the implement",e)}))}}},o=l(46),c=l(56),m=l.n(c),d=l(102),v=l(444),f=l(378),x=l(447),k=l(380),h=l(392),I=l(149),_=l(381),w=l(445),R=l(408),y=l(407),E=l(440),$=l(363),C=l(446),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-layout",[l("v-flex",[l("v-subheader",{staticClass:"subtitle-1"},[e._v("IMPLEMENTOS REGISTRADOS")]),e._v(" "),l("v-container",[l("v-switch",{attrs:{inset:"",label:"Mostrar Formulario"},model:{value:e.switch1,callback:function(t){e.switch1=t},expression:"switch1"}}),e._v(" "),e.edit?e._e():l("v-form",{directives:[{name:"show",rawName:"v-show",value:e.switch1,expression:"switch1"}],ref:"form",attrs:{"lazy-validation":"",novalidate:"","aria-autocomplete":"off"},on:{submit:function(t){return e.editImplement(e.editImplements)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[l("v-row",[l("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[l("v-text-field",{ref:"serial",attrs:{rules:e.serailRules,label:"Serial",required:""},model:{value:e.editImplements.serial,callback:function(t){e.$set(e.editImplements,"serial",t)},expression:"editImplements.serial"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[l("v-text-field",{attrs:{rules:e.implementRules,label:"Implemento",required:""},model:{value:e.editImplements.name,callback:function(t){e.$set(e.editImplements,"name",t)},expression:"editImplements.name"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"5",md:"3"}},[l("v-text-field",{attrs:{rules:e.markRules,label:"Marca",required:""},model:{value:e.editImplements.mark,callback:function(t){e.$set(e.editImplements,"mark",t)},expression:"editImplements.mark"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[l("v-text-field",{attrs:{rules:e.typeRules,label:"Tipo",required:""},model:{value:e.editImplements.type,callback:function(t){e.$set(e.editImplements,"type",t)},expression:"editImplements.type"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[l("v-text-field",{attrs:{rules:e.modelRules,label:"Modelo",required:""},model:{value:e.editImplements.model,callback:function(t){e.$set(e.editImplements,"model",t)},expression:"editImplements.model"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[l("v-text-field",{attrs:{rules:e.locationRules,label:"Ubicación",required:""},model:{value:e.editImplements.location,callback:function(t){e.$set(e.editImplements,"location",t)},expression:"editImplements.location"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[l("v-text-field",{attrs:{rules:e.userRules,label:"Respondable",required:""},model:{value:e.editImplements.user,callback:function(t){e.$set(e.editImplements,"user",t)},expression:"editImplements.user"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[l("v-text-field",{attrs:{rules:e.stateRules,label:"Estado",required:""},model:{value:e.editImplements.state,callback:function(t){e.$set(e.editImplements,"state",t)},expression:"editImplements.state"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"8",md:"5"}},[l("v-textarea",{attrs:{autoGrow:"",required:"",rows:"1","row-height":"20",label:"Descripción"},model:{value:e.editImplements.description,callback:function(t){e.$set(e.editImplements,"description",t)},expression:"editImplements.description"}})],1)],1),e._v(" "),l("v-row",[l("v-col",{attrs:{align:"center"}},[l("v-btn",{attrs:{rounded:"",color:"success black--text mr-2",type:"submit",disabled:!e.valid}},[l("v-icon",{attrs:{dark:""}},[e._v("mdi-checkbox-marked-circle-outline")]),e._v("Confirmar\n            ")],1),e._v(" "),l("v-btn",{attrs:{rounded:"",color:"error black--text"},on:{click:function(t){e.edit=!0}}},[l("v-icon",{attrs:{dark:""}},[e._v("mdi-cancel")]),e._v("Cancelar\n            ")],1)],1)],1)],1),e._v(" "),e.edit?l("v-form",{directives:[{name:"show",rawName:"v-show",value:e.switch1,expression:"switch1"}],ref:"form",attrs:{"lazy-validation":"",novalidate:"","aria-autocomplete":"off"},on:{submit:function(t){return e.NewImplement()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[l("v-row",[l("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[l("v-text-field",{attrs:{autofocus:"",rules:e.serailRules,label:"Serial",required:""},model:{value:e.serial,callback:function(t){e.serial=t},expression:"serial"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[l("v-text-field",{attrs:{rules:e.implementRules,label:"Nombre del implemento",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"5",md:"3"}},[l("v-text-field",{attrs:{rules:e.markRules,label:"Marca",required:""},model:{value:e.mark,callback:function(t){e.mark=t},expression:"mark"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[l("v-text-field",{attrs:{rules:e.typeRules,label:"Tipo",required:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[l("v-text-field",{attrs:{rules:e.modelRules,label:"Modelo",required:""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[l("v-text-field",{attrs:{rules:e.locationRules,label:"Ubicación",required:""},model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"3",md:"2"}},[l("v-text-field",{attrs:{rules:e.userRules,label:"Respondable",required:""},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[l("v-text-field",{attrs:{rules:e.stateRules,label:"Estado del implemento",required:""},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}})],1),e._v(" "),l("v-col",{attrs:{cols:"12",sm:"8",md:"5"}},[l("v-textarea",{attrs:{autoGrow:"",required:"",rows:"1","row-height":"20",label:"Descripción acerca del estado del implemento"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1),e._v(" "),l("v-row",[l("v-col",{attrs:{align:"center"}},[l("v-btn",{attrs:{rounded:"",color:"primary black--text",type:"submit",disabled:!e.valid}},[l("v-icon",{attrs:{dark:""}},[e._v("fa fa-plus")]),e._v("Agregar\n            ")],1)],1)],1)],1):e._e(),e._v(" "),l("v-row",{attrs:{cols:"12"}},[l("v-col",{attrs:{md:"4",sm:"6"}},[l("v-text-field",{staticClass:"mb-5",attrs:{"prepend-icon":"mdi-magnify",label:"Buscar implemento","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),e._v(" "),l("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"items-per-page":10,"sort-by":["type"],"sort-desc":[!0],search:e.search},scopedSlots:e._u([{key:"items",fn:function(){},proxy:!0},{key:"item.icon",fn:function(data){return[l("v-btn",{attrs:{icon:"","aria-label":"edit"},on:{click:function(t){return e.onlyImplement(data.item._id)}}},[l("v-icon",{attrs:{small:"",color:"edit"}},[e._v("mdi-circle-edit-outline")])],1),e._v(" "),l("v-btn",{attrs:{icon:"","aria-label":"delete"},on:{click:function(t){return e.deleteImplement(data.item._id)}}},[l("v-icon",{attrs:{small:"",color:"error"}},[e._v("mdi-delete")])],1)]}},{key:"no-results",fn:function(){return[l("span",{staticClass:"font-weight-regular black--text"},[e._v("No se encontraron coincidencias")])]},proxy:!0},{key:"no-data",fn:function(){return[l("span",{staticClass:"font-weight-regular black--text"},[e._v("No hay información registrada")])]},proxy:!0}])}),e._v(" "),l("v-snackbar",{attrs:{color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        "+e._s(e.text)+"\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VBtn:d.a,VCol:v.a,VContainer:f.a,VDataTable:x.a,VFlex:k.a,VForm:h.a,VIcon:I.a,VLayout:_.a,VRow:w.a,VSnackbar:R.a,VSubheader:y.a,VSwitch:E.a,VTextField:$.a,VTextarea:C.a})}}]);