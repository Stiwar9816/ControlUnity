(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{389:function(e,t,n){"use strict";var r=n(132);t.a=r.create({})},476:function(e,t,n){"use strict";n.r(t);n(84),n(56),n(6),n(4),n(85);var r,o=n(27),c=n(389),l={layout:"home",data:function(){return{search:"",snackbar:!1,text:"",color:"",timeout:3e3,headers:[{text:"RESPONSABLE",align:"center",value:"name",sortable:!1},{text:"CC",align:"center",value:"cc",sortable:!1},{text:"NOMBRE SALON",align:"center",value:"room",sortable:!0},{text:"MATERIA O EVENTO",align:"center",sortable:!1,value:"event"},{text:"FECHA INICIO RESERVA",align:"center",sortable:!0,value:"schedules[0].start"},{text:"FECHA FINAL RESERVA",align:"center",sortable:!1,value:"schedules[0].end"},{text:"ACCIONES",align:"center",sortable:!1,value:"icon"}],items:[]}},created:(r=Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("/api/booking");case 3:return t=e.sent,e.next=6,this.mapBookings(t.data.Bookings);case 6:this.items=e.sent,e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),this.snackbar=!0,this.color="error",this.text=e.t0.message;case 14:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return r.apply(this,arguments)}),methods:{mapBookings:function(e){var t=!0,n=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var l=o.value;l.schedules&&l.schedules.length&&(l.schedules=l.schedules.map((function(e){return e.start=new Date(e.start).toLocaleString("es-CO",{timeZone:"America/Bogota"}),e.end=new Date(e.end).toLocaleString("es-CO",{timeZone:"America/Bogota"}),e})))}}catch(e){n=!0,r=e}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}return e},deleteBooking:function(e){var t=this;confirm("Ya fueron devueltos los implementos prestados?")&&c.a.delete("api/deleteBooking/".concat(e)).then((function(e){var n=t.items.findIndex((function(t){return t._id===e.data._id}));t.items.splice(n,1),t.snackbar=!0,t.color="success",t.text="¡Elementos devueltos con exito!",t.$router.go()})).catch((function(e){t.snackbar=!0,t.color="error",t.text=e.response.data.message}))}}},d=n(41),v=n(49),f=n.n(v),h=n(146),m=n(435),k=n(381),x=n(473),E=n(383),y=n(124),C=n(384),w=n(436),V=n(428),_=n(417),S=n(411),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",[n("v-flex",[n("v-container",[n("v-row",{attrs:{cols:"12"}},[n("v-col",{attrs:{md:"4",sm:"6"}},[n("v-subheader",{staticClass:"subtitle-1"},[e._v("DEVOLUCIONES PENDIENTES")]),e._v(" "),n("v-text-field",{staticClass:"mt-4 mb-5",attrs:{"prepend-icon":"fa fa-search",label:"Buscar","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),e._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"items-per-page":10,search:e.search},scopedSlots:e._u([{key:"items",fn:function(){},proxy:!0},{key:"item.icon",fn:function(data){return[n("v-btn",{attrs:{icon:"","aria-label":"check"},on:{click:function(t){return e.deleteBooking(data.item._id)}}},[n("v-icon",{attrs:{small:"",color:"green"}},[e._v("fa fa-check-square-o")])],1)]}},{key:"no-results",fn:function(){return[n("span",{staticClass:"font-weight-regular black--text"},[e._v("No se encontraron coincidencias")])]},proxy:!0},{key:"no-data",fn:function(){return[n("span",{staticClass:"font-weight-regular black--text"},[e._v("No hay información registrada")])]},proxy:!0}])}),e._v(" "),n("v-snackbar",{attrs:{color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        "+e._s(e.text)+"\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;f()(component,{VBtn:h.a,VCol:m.a,VContainer:k.a,VDataTable:x.a,VFlex:E.a,VIcon:y.a,VLayout:C.a,VRow:w.a,VSnackbar:V.a,VSubheader:_.a,VTextField:S.a})}}]);